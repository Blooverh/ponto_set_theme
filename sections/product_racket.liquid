<div class="product-template width"
  id="ProductSection-{{ section.id }}"
  data-section-id="{{ section.id }}"
  data-section-type="racket_product"
  data-enable-history-state="true"
  data-ajax-enabled=" {{ settings.enable_ajax }}">

  {% comment %} Get first variant or deep linked one {% endcomment %}
  {% assign current_variant = product.selected_or_first_available_variant %}
  {% assign product_image_scale = '2' %}
  {% assign compare_at_price = current_variant.compare_at_price %}
  {% assign price = current_variant.price %}

  {% comment %} 
  Might need to create settings for sizing the product image 

  This section will not have zooming functionalities 

  will have to debug thumbnail functionality - idk if it is in javascript form
  {% endcomment %}
    <div class="grid product-single{% if section.settings.enable_payment_button %} product-single--{{ section.settings.image_size }}-image{% endif %}">
        <div class="grid_item product-single_photo">
            {% comment %} Assign a featured image whether is a selected one or the first available out of all the variants {% endcomment %}
            {% assign featured_image = product.selected_or_first_available_variant.featured_image | default: product.featured_image %}
            {% for image in product.images %}
                {% capture img_id %}featured_image-{{ section.id }}-{{ image.id }}{% endcapture %}
                {% capture img_class %}product-featured-img{% endcapture %}
                {%- assign img_url = image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}

                <div class="product-single_photo-wrapper" id="{{ img_id }}">
                    <div id="{{ img_id }}"style="padding-top: 10%;"class="product_single_photo"data-image-id="{{ image.id }}">

                        <img id="{{ img_id }}"class="feature-row_image {{ img_class }}"loading="lazyload"src="{{ image | img_url: '1080x1080' }}"data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"data-aspectratio="{{ image.aspect_ratio }}"data-sizes="auto"tabindex="-1"alt="{{ image.alt | escape }}">
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    {%  comment  %} Missing thumbnail functionality for more than 1 image of the product  {% endcomment %}


    {% comment  %} content part will include dropdown selector for the rackets {% endcomment %}

    <div class="grid_item-prod-description">
        <div class="prod-single_meta">

            <h1 class="product-title"> {{ product.title }} </h1>
            <div class="PartId">Part ID: {% assign current_variant = product.selected_or_first_available_variant %}
                <span class="variantPart-id">{{ current_variant.sku }}</span>
            </div>

            <div class="prod-price">
                {% comment  %} {% render 'product-price', variant: current_variant, show_vendor: section.settings.show_vendor %} {% endcomment %}
                {% assign money_price = price | money %}
                {{ money_price }}
            </div>

            {% if shop.taxes_included or shop.shipping_policy.body != blank %}
                <div class="prod-policies">
                    {% if shop.taxes_included %}
                        {{ 'products.product.include_taxes' | t }}
                    {% endif %}

                    {% if shop.shipping_policy.body != blank %}
                        {{ 'products.product.shipping_policy_html' | t: link: shop.shipping_policy.url }}
                    {% endif %}
                </div>
            {% endif %}
                
            {% capture "form_class" %}
                product-form-{{ section.id }}{% unless section.settings.show_variant_labels %} product-form--hide-variant-labels{% endunless %}{% if section.settings.enable_payment_button and product.has_only_default_variant %} product-form--payment-button-no-variants {% endif %}
            {% endcapture %}
        </div>

        <div class="prod-description">
            {{ product.description }}
        </div>

        {% comment %} Add to cart and payment method {% endcomment %}

        <div class="product-add-cart">
            <div class="product-form_item {% if section.settings.enable_payment_button %} payment-btn {% endif %}">
                <button type="submit" name="add" aria-label="{% unless current_variant.available %} {{ 'products.product.sold_out' | t }} {% else %} {{ 'products.product.add_to_cart' | t }} {% endunless %}"
                    class="btn-prod-form-cart-submit{% if section.settings.enable_payment_button %} btn-second-accent {% endif %}"
                    data-add-to-cart-text>

                </button>
            </div>
        </div>
    </div>
</div>

{% stylesheet %}
    .product-single_photo-wrapper{
        margin: 0 auto;
        width:100%;
    }

    .product_single_photo{
        margin: 0 auto;
        min-height:1px;
        width:100%;
        height:100%;
        position: relative;
        padding-bottom: 4px;
    }
    
    .product-featured-img {
        display: flex;
        /* height:400px; */
        height: calc(25% - 2px);
        width: calc(25% - 4px);
        padding-bottom: 50px;
    }

    @media (max-width: 767px){
        .product-featured-img{
            order: 1;
            width:175px;
            height: 320px;
            display: block;
        }

        .product-single_photo-wrapper{
            margin: 0 auto;
            width:100%;
            text-align: -webkit-center;
        }
    }
{% endstylesheet %}

